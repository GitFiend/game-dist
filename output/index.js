(()=>{"use strict";var t={2:(t,e,s)=>{t.exports=s.p+"output/404ceb169b739f770924.png"}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,s),o.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t+"../"})(),(()=>{var t;!function(t){t[t.computed=0]="computed",t[t.autoRun=1]="autoRun",t[t.reaction=2]="reaction",t[t.component=3]="component"}(t||(t={}));class e{run(){null!==this._ref.current&&(r.pushResponder(this),this.f(),r.popResponder())}constructor(e){this.f=e,this.responderType=t.autoRun,this.ordered=!1,this._ref={current:this},this.end=()=>{this._ref.current=null},this.run()}}class n{run(){if(null===this._ref.current)return;r.pushResponder(this);const t=this.calc();r.popResponder(),this.value!==t&&(this.value=t,this.f(t))}constructor(e,s){this.calc=e,this.f=s,this.responderType=t.reaction,this.ordered=!1,this._ref={current:this},this.end=()=>{this._ref.current=null},r.pushResponder(this),this.value=this.calc(),r.popResponder()}}const r=new class{pushResponder(t){this.responderStack.push(t)}popResponder(){this.responderStack.pop()}getCurrentResponder(){const t=this.responderStack.length;return t>0?this.responderStack[t-1]:null}queueNotifierIfInAction(t){return null!==this.actionStack&&(this.actionStack.add(t),!0)}insideNonComputedResponder(){return this.responderStack.some((e=>e.responderType!==t.computed))}runComputedNowIfInActionStack(t){return!0===this.actionStack?.computeds.delete(t)&&(t.current?.run(),!0)}startAction(){this.actionDepth++,null===this.actionStack?this.actionStack=new a(this.getCurrentResponder()):this.actionStack.runningResponder=this.getCurrentResponder()}endAction(){if(this.actionDepth--,0===this.actionDepth&&null!==this.actionStack){const t=this.actionStack;this.actionStack=null,t.run()}}constructor(){this.responderStack=[],this.actionStack=null,this.actionDepth=0}};class o{static insert(t,e){const{order:s}=e;for(let n=0;n<t.length;n++){const r=t[n];if(s<r.order)return t.splice(n,0,e),n;if(s===r.order)return t[n]=e,n}return t.push(e),t.length-1}static remove(t,e){const{order:s}=e;for(let e=0;e<t.length;e++)t[e].order===s&&t.splice(e,1)}}function i(t){const{inserted:e,siblings:s,element:n}=t;let r=null;for(let t=e.length-1;t>=0;t--){const o=e[t];null===r?s.has(o.element)||(n.insertBefore(o.element,null),s.set(o.element,null)):s.has(r.element)&&s.get(r.element)!==o.element&&(n.insertBefore(o.element,r.element),s.set(r.element,o.element),s.has(o.element)||s.set(o.element,null)),r=o}}class c{static key(t,e){return t+String.fromCharCode(e+48)}static insert(t,e){const{inserted:s}=t,{order:n,key:r}=e;for(let o=s.length-1;o>=0;o--){const i=s[o],c=s[o+1];if(n>=i.order)return void(r!==i.key&&(null!=c?(s.splice(o+1,0,e),h.insertsStack.add(t)):(h.insertsStack.add(t),s.push(e))))}s.unshift(e),h.insertsStack.add(t)}static move(t,e){const{inserted:s}=t,{key:n}=e,r=s.findIndex((t=>t.key===n));r>=0&&s.splice(r,1),this.insert(t,e)}static remove(t,e){const{inserted:s,siblings:n}=t,{key:r}=e,o=s.findIndex((t=>t.key===r));if(o>=0){const[t]=s.splice(o,1);n.delete(t.element),h.removeStack.add(t.element)}}}class h{static runResponders(t,e,s){for(const t of s.values())null!==t.current&&o.insert(this.components,t.current);for(const e of t)null!==e.current&&this.computeds.add(e);for(const t of e)null!==t.current&&this.reactions.add(t);this.run()}static run(){if(!this.running){for(this.running=!0;this.computeds.size>0||this.reactions.size>0;){for(;this.computeds.size>0;){const t=this.computeds.values().next().value;this.computeds.delete(t),t.current?.run()}for(;this.reactions.size>0;){const t=this.reactions.values().next().value;this.reactions.delete(t),t.current?.run()}}for(;this.components.length>0;)this.components.shift()?.run();for(const t of this.removeStack)t.remove();this.removeStack.clear();for(const t of this.insertsStack)i(t);for(this.insertsStack.clear();this.componentDidMountStack.length>0;)this.componentDidMountStack.shift()?.current?.componentDidMount();for(;this.componentDidUpdateStack.length>0;)this.componentDidUpdateStack.shift()?.current?.componentDidUpdate();this.running=!1,this.empty()||this.run()}}static empty(){return 0===this.computeds.size&&0===this.reactions.size&&0===this.components.length&&0===this.insertsStack.size&&0===this.removeStack.size&&0===this.componentDidMountStack.length&&0===this.componentDidUpdateStack.length}}h.computeds=new Set,h.reactions=new Set,h.components=[],h.running=!1,h.insertsStack=new Set,h.removeStack=new Set,h.componentDidMountStack=[],h.componentDidUpdateStack=[];class a{add(t){for(const e of t.computeds)e.current!==this.runningResponder&&this.computeds.add(e);for(const e of t.reactions)e.current!==this.runningResponder&&this.reactions.add(e);for(const e of t.components.values())e.current&&e.current!==this.runningResponder&&this.components.set(e.current?.order,e);t.computeds.size>0&&t.computeds.clear(),t.reactions.size>0&&t.reactions.clear(),t.components.size>0&&t.components.clear()}run(){h.runResponders(this.computeds,this.reactions,this.components)}constructor(t){this.runningResponder=t,this.computeds=new Set,this.reactions=new Set,this.components=new Map}}var u,p,l;function d(t){return e=>void 0===e?{elementType:p.host,_type:t,namespace:u.html,props:{}}:"string"==typeof e?{elementType:p.host,_type:t,namespace:u.html,props:{children:[e]}}:{elementType:p.host,_type:t,namespace:u.html,props:e}}function m(t,e,s){const n=Object.keys(s);for(const r of n)void 0!==s[r]&&f(t,e,r,s[r])}function f(t,e,s,n){switch(s){case"key":case"children":break;case"className":t.setAttribute("class",n);break;case"value":case"style":t[s]=n;break;case"ref":n.current=t;break;default:if(e===u.svg&&function(t,e,s){switch(e){case"strokeWidth":return t.setAttribute("stroke-width",s),!0;case"strokeLinejoin":return t.setAttribute("stroke-linejoin",s),!0}return!1}(t,s,n))break;s.startsWith("on")?t.addEventListener(s.slice(2),n):"boolean"==typeof n?n?t.setAttribute(s,""):t.removeAttribute(s):t.setAttribute(s,n)}}function g(t,e,s){e.startsWith("on")?t.removeEventListener(e.slice(2),s):"className"===e?t.removeAttribute("class"):"ref"===e?s.current=null:t.removeAttribute(e)}!function(t){t[t.html=0]="html",t[t.svg=1]="svg"}(u||(u={})),function(t){t[t.host=0]="host",t[t.custom=1]="custom"}(p||(p={})),function(t){t[t.host=0]="host",t[t.custom=1]="custom",t[t.text=2]="text"}(l||(l={}));class y{renderSubtrees(t){this.subComponents=S.subtrees(this,this,t,this.subComponents)}insertChild(t){c.insert(this,t)}moveChild(t){c.move(this,t)}removeChild(t){c.remove(this,t)}remove(){if(this.parentHost.removeChild(this),this.subComponents.size>0){for(const t of this.subComponents.values())t.remove();this.subComponents.clear()}this.inserted.length>0&&(this.inserted=[])}constructor(t,e,s,n,r,o){this.tag=t,this.namespace=e,this.props=s,this.parentHost=n,this.index=o,this._type=l.host,this.subComponents=new Map,this.inserted=[],this.siblings=new WeakMap,this.order=c.key(r.order,o),this.key=this.props.key??r.key+o,e===u.svg?this.element=document.createElementNS("http://www.w3.org/2000/svg",t):this.element=document.createElement(t),m(this.element,e,s),this.renderSubtrees(s.children??[]),n.insertChild(this)}}class v{remove(){this.parentHost.removeChild(this)}constructor(t,e,s,n){this.text=t,this.parentHost=e,this.index=n,this._type=l.text;const r=c.key(s.order,n);this.key=s.key+n,this.order=r,this.element=document.createTextNode(t),e.insertChild(this)}}class w{update(){const t=this.render();this.subComponents=S.subtrees(this.parentHost,this,Array.isArray(t)?t:[t],this.subComponents)}updateWithNewProps(t){(function(t,e){const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(const n of s)if(t[n]!==e[n])return!1;return!0})(this.props,t)||(this.props=t,this.update(),h.componentDidUpdateStack.push(this._ref))}componentDidMount(){}componentDidUpdate(){}componentWillUnmount(){}mount(){this.update(),h.componentDidMountStack.push(this._ref)}remove(){this.componentWillUnmount();for(const t of this.subComponents.values())t.remove();this.subComponents.clear(),this.removed=!0}static $(t){return{_type:this,elementType:p.custom,props:t}}constructor(t,e,s,n){this.parentHost=e,this.index=n,this._type=l.custom,this.subComponents=new Map,this._ref={current:this},this.forceUpdate=()=>{this.removed||this.update()},this.removed=!1,this.props=t,this.order=c.key(s.order,n),this.key=this.props.key??s.key+n}}function k(t,e,s,n,r){const o=new t(e,s,n,r);return o.mount(),o}class b{render(t){this.component=S.tree(t,this.component,this,this,0),h.run()}insertChild(t){c.insert(this,t)}removeChild(t){c.remove(this,t)}moveChild(t){c.move(this,t)}remove(){this.component?.remove(),this.component=null}get html(){return this.element.innerHTML}constructor(t){this.element=t,this.component=null,this.order="1",this.key="root",this.inserted=[],this.siblings=new WeakMap}}const x=new class{render(t,e){this.target!==e?(this.clear(),this.rootNode=new b(e)):null===this.rootNode&&(this.rootNode=new b(e)),this.rootNode.render(t)}clear(){this.rootNode?.remove(),this.rootNode=null}constructor(){this.rootNode=null,this.target=null}};class S{static tree(t,e,s,n,r){return t.elementType===p.host?function(t,e,s,n,r){const{_type:o,namespace:i,props:h}=t;if(null===e)return new y(o,i,h,s,n,r);if(e._type===l.host&&e.tag===o){const t=c.key(n.order,r);return e.order!==t&&(e.index=r,e.order=t,s.moveChild(e)),function(t,e,s,n){null===n?m(t,e,s):function(t,e,s,n){const r=Object.keys(s),o=Object.keys(n);for(const o of r){const r=n[o],i=s[o];void 0!==i&&(void 0===r?f(t,e,o,i):r!==i&&(o.startsWith("on")&&g(t,o,r),f(t,e,o,i)))}for(const e of o){const r=n[e];void 0===s[e]&&void 0!==r&&g(t,e,r)}}(t,e,s,n)}(e.element,i,h,e.props),e.props=h,e.renderSubtrees(h.children??[]),e}return e.remove(),new y(o,i,h,s,n,r)}(t,e,s,n,r):function(t,e,s,n,r){const{_type:o,props:i}=t;if(null===e)return k(o,i,s,n,r);if(e._type===l.custom&&e instanceof o){const t=c.key(n.order,r);if(t!==e.order){e.index=r,e.order=t;for(const t of e.subComponents.values()){const n=c.key(e.order,t.index);if(t.order!==n)switch(t.order=n,t._type){case l.host:case l.text:s.moveChild(t);break;case l.custom:t.update()}}}return e.updateWithNewProps(i),e}return e.remove(),k(o,i,s,n,r)}(t,e,s,n,r)}static subtrees(t,e,s,n){const r=new Map;for(let o=s.length-1;o>=0;o--){const i=s[o];null!==i&&this.subtree(t,e,i,n,r,o)}for(const t of n.values())t.remove();return r}static subtree(t,e,s,n,r,o){if("string"==typeof s){const i=o.toString(),h=function(t,e,s,n,r){if(null===e)return new v(t,s,n,r);if(e._type===l.text){const o=e.order,i=c.key(n.order,r);return o!==i&&(e.index=r,e.order=i,s.moveChild(e)),e.text===t||(e.element.nodeValue=t,e.text=t),e}return e.remove(),new v(t,s,n,r)}(s,n.get(i)??null,t,e,o);return n.delete(i),r.set(i,h),h}const i=s.props.key??o.toString(),h=this.tree(s,n.get(i)??null,t,e,o);return n.delete(i),r.set(i,h),h}}d("h1"),d("h2"),d("h3");const C=d("div"),R=(d("header"),d("footer"),d("span"),d("a"),d("p"),d("b"),d("br"),d("img"),d("ul"),d("li"),d("ol"),d("video"),d("source"),d("i"),d("button"),d("canvas"));function A(e,s){switch(s.responderType){case t.computed:e.computeds.add(s._ref);break;case t.autoRun:case t.reaction:e.reactions.add(s._ref);break;case t.component:const n=s;e.components.set(n.order,n._ref)}}function _(t){const{computeds:e,reactions:s,components:n}=t;(e.size>0||s.size>0||n.size>0)&&(r.queueNotifierIfInAction(t)||(t.computeds=new Set,t.reactions=new Set,t.components=new Map,h.runResponders(e,s,n)))}function M({reactions:t,components:e,computeds:s}){for(const e of t)if(null!==e.current)return!0;for(const t of e.values())if(null!==t.current)return!0;for(const t of s)if(null!==t.current&&M(t.current))return!0;return!1}d("form"),d("input"),d("datalist"),d("option"),d("textarea"),d("label"),d("table"),d("tr"),d("td"),d("th");class ${get(t){return null!==t&&this.addCallingResponderToOurList(t),this.value}set(t){this.value!==t&&(this.value=t,this.hasActiveResponders()?_(this):this.deactivateAndClear())}hasActiveResponders(){return M(this)}deactivateAndClear(){const{computeds:t,reactions:e,components:s}=this;e.clear(),s.clear();for(const e of t)null!==e.current&&e.current.deactivateAndClear();t.clear()}addCallingResponderToOurList(t){A(this,t)}constructor(t,e){this.value=t,this.name=e,this.computeds=new Set,this.reactions=new Set,this.components=new Map}}class D{run(){this.hasActiveResponders()?this.runFunction(!0):null!==this._ref.current&&this.deactivateAndClear()}get(t){null!==t&&this.addCallingResponderToOurList(t);const e=null===this._ref.current,s=this.hasActiveResponders();return e?(s&&(this._ref.current=this),this.runFunction(!1)):s?r.runComputedNowIfInActionStack(this._ref):this.deactivateAndClear(),this.value}runFunction(t){r.pushResponder(this);const e=this.f();r.popResponder(),e!==this.value&&(this.value=e,t&&_(this))}addCallingResponderToOurList(t){A(this,t)}hasActiveResponders(){return M(this)}deactivateAndClear(){this._ref.current=null;const{computeds:t,reactions:e,components:s}=this;e.clear(),s.clear();for(const e of t)null!==e.current&&e.current.deactivateAndClear();t.clear()}isMarkedActive(){return null!==this._ref.current}constructor(e,s){this.f=e,this.name=s,this.responderType=t.computed,this.ordered=!1,this.computeds=new Set,this.reactions=new Set,this.components=new Map,this._ref={current:null}}}class z extends w{mount(){(function(t,e){for(const e in t)if(e.startsWith("$")){const s=`__${e}`,n=t[e];n instanceof Function||Object.defineProperties(t,{[s]:{value:new $(n,s)},[e]:{get(){return this[s].get(r.getCurrentResponder())},set(t){this[s].set(t)}}})}const s=Object.entries(Object.getOwnPropertyDescriptors(e.prototype));for(const[e,n]of s)if(e.startsWith("$")&&void 0!==n.get){const s=`__${e}`;Object.defineProperties(t,{[s]:{value:new D(n.get.bind(t),s)},[e]:{get(){return this[s].get(r.getCurrentResponder())}}})}})(this,this.constructor),this.update(),h.componentDidMountStack.push(this._ref)}run(){null!==this._ref.current&&(this.update(),h.componentDidUpdateStack.push(this._ref))}update(){r.pushResponder(this),super.update(),r.popResponder()}remove(){this._ref.current=null;for(const t of this.disposers)t();this.disposers=[],super.remove()}$AutoRun(t){this.disposers.push(function(t){return new e(t).end}(t))}$Reaction(t,e){this.disposers.push(function(t,e){return new n(t,e).end}(t,e))}constructor(...e){super(...e),this.responderType=t.component,this.ordered=!0,this.disposers=[]}}function O(t,...e){if(1===t.length)return t[0];let s="";for(let n=0;n<t.length;n++)e[n]&&(s+=t[n]);return s.trim()}function T(t){return e=>({elementType:p.host,_type:t,namespace:u.svg,props:e})}function I(t,e){return{x:t,y:e}}function N(t,e){return{x:t.x+e.x,y:t.y+e.y}}function L({x:t,y:e},s){return{x:t*s,y:e*s}}function W({x:t,y:e},s){const n=Math.sin(s),r=Math.cos(s);return I(r*t-n*e,n*t+r*e)}T("svg"),T("polyline"),T("polygon"),T("circle"),T("title"),T("g");class j{nextInt(){return this.seed=48271*this.seed%2147483647}nextFloat(){return(this.nextInt()-1)/2147483646}constructor(t){this.seed=t,(this.seed=(0|t)%2147483647)<=0&&(this.seed+=2147483646)}}function F(t,e){return{x:H(t.x-e.x),y:H(t.y+e.y)}}function H(t){return t<0?t%1+1:t%1}class U{draw(t,e,s){this.drawBackground(t,e,s),this.drawStars(t,e,s,this.store.gameObjects.player.m)}drawBackground(t,e,s){t.fillStyle="rgb(0, 0, 0)",t.fillRect(0,0,e,s)}drawStars(t,e,s,n){const{position:{x:r,y:o}}=n,i=r/1e3%1e3,c=o/1e3%1e3,h=n.getAngle();for(const{v:{x:n,y:r},size:o,colour:a}of function(t,e,s,n){return function(t,e,s,n){return t.map((({v:t,size:s,colour:r})=>((t=I(t.x,t.y)).x=t.x-e.x,t.y=t.y-e.y,(t=W(t,n)).x=t.x+e.x,t.y=t.y+e.y,{v:t,size:s,colour:r})))}(function(t,e,s){return t.map((({v:t,size:e,colour:n})=>({v:F(t,s),size:e,colour:n})))}(t,0,s),e,0,n)}(this.stars,{x:.5,y:.5},function({x:t,y:e}){return{x:-t,y:-e}}({x:i,y:c}),h)){const i=n*e,c=r*s;t.beginPath(),t.fillStyle=a,t.arc(i,c,5*o,0,2*Math.PI),t.fill()}}update(t){}constructor(t){this.store=t,this.stars=function(t=100){const e=[],s=new j(0),n=()=>s.nextFloat();for(let s=0;s<t;s++)e.push({v:{x:n(),y:n()},size:n(),colour:`hsl(${Math.round(255*n())}, ${Math.round(20*n())}%, ${Math.round(100*n())}%)`});return e}(100)}}class E{rotate(t){this.direction=function(t){const{x:e,y:s}=t,n=Math.sqrt(e**2+s**2);if(0===n)return t;const r=1/n;return{x:e*r,y:s*r}}(W(this.direction,t))}getAngle(){const{x:t,y:e}=this.direction;return Math.atan2(e,t)+90*Math.PI/180}update(t){this.velocity=function(t,e){const{x:s,y:n}=t,r=Math.sqrt(s**2+n**2);if(r<e)return t;const o=e/r;return{x:s*o,y:n*o}}(N(this.velocity,L(this.thrust,t/100)),this.maxVelocity),this.position=N(this.position,this.velocity)}constructor(t=I(0,0),e=I(0,0),s=I(0,1),n=I(0,0),r=I(0,0),o=2,i=10){this.position=t,this.size=e,this.direction=s,this.velocity=n,this.thrust=r,this.turnSpeed=o,this.maxVelocity=i}}class P{update(t){for(const e of this.particles)e.position.y=(e.position.y+.03*t)%this.height}draw(t,e,s){for(const e of this.particles){const{x:s,y:n}=e.position;t.fillStyle=`rgba(256, 256, 150, ${1/(.5*n)})`;let r=n>4?s/(n/4):s;t.fillRect(this.pos.x+r,this.pos.y+n,2,2)}}constructor(t,e,s,n){this.pos=t,this.width=e,this.height=s,this.angle=n,this.particles=[];for(let t=0;t<40;t++){const t=Math.random()*s,n=(Math.random()-.5)*e;this.particles.push({colour:"#ffff7755",position:I(n,t)})}}}const B=s(2);class q{draw(t,e,s){const{m:{size:n}}=this,r=innerWidth/2,o=.5*innerHeight;t.translate(r,o),t.rotate(Math.PI),t.drawImage(this.shipImage,-n.x/2,-n.y/2,n.x,n.y),t.rotate(-Math.PI),this.store.controls.forward&&this.thrust.draw(t,e,s),t.translate(-r,-o)}update(t){const{controls:{forward:e,back:s,left:n,right:r}}=this.store,o=t/1e3;n&&this.m.rotate(o*this.m.turnSpeed),r&&this.m.rotate(o*-this.m.turnSpeed),e?(this.thrust.update(t),this.m.thrust=L(this.m.direction,.5)):this.m.thrust=I(0,0),s&&(this.m.velocity=I(0,0)),this.m.update(t)}constructor(t){this.store=t,this.m=new E(I(0,0),I(40,40)),this.shipImage=document.createElement("img"),this.thrust=new P(N(this.m.position,{x:-1.5,y:19}),8,13,0),this.shipImage.src=B}}class V{calcStats(){const{gameObjects:{player:{m:{position:t,direction:e,thrust:s,velocity:n}}}}=this.store,r=t=>t.toPrecision(4);return[`${this.getFps()} fps`,`pos (${r(t.x)}, ${r(t.y)})`,`dir (${e.x.toFixed(2)}, ${e.y.toFixed(2)})`,`vel (${n?.x.toFixed(1)??0}, ${n?.y.toFixed(1)??0})`]}draw(t,e,s){t.font="14px monospace",t.fillStyle="yellow",this.calcStats().forEach(((e,s)=>{t.fillText(e,8,22*(s+1))}))}update(t){this.fps.push(t),this.fps.length>10&&this.fps.shift()}getFps(){const t=this.fps.reduce(((t,e)=>t+e),0)/this.fps.length;return Math.min(Math.round(1e3/t),60)}constructor(t){this.store=t,this.fps=[]}}class G{update(t){for(const e of this.updatable)e.update(t)}draw(t,e,s){for(const n of this.drawable)n.draw(t,e,s)}constructor(t){this.store=t,this.player=new q(this.store),this.drawable=[new U(this.store)],this.updatable=[];const e=new U(t),s=new V(t);this.updatable.push(e,this.player,s),this.drawable.push(e,this.player,s)}}class J{constructor(t){this.store=t,this.forward=!1,this.back=!1,this.left=!1,this.right=!1,addEventListener("keydown",(t=>{switch(t.key){case"p":this.store.paused=!this.store.paused;break;case"w":case"ArrowUp":this.forward=!0;break;case"s":case"ArrowDown":this.back=!0;break;case"a":case"ArrowLeft":this.left=!0;break;case"d":case"ArrowRight":this.right=!0}})),addEventListener("keyup",(t=>{switch(t.key){case"p":break;case"w":case"ArrowUp":this.forward=!1;break;case"s":case"ArrowDown":this.back=!1;break;case"a":case"ArrowLeft":this.left=!1;break;case"d":case"ArrowRight":this.right=!1}}))}}class K{constructor(){this.paused=!1,this.gameObjects=new G(this),this.controls=new J(this)}}class Q extends z{render(){const{$pageWidth:t,$pageHeight:e}=this;return R({ref:this.ref,className:O`Stage`,width:t,height:e})}componentDidMount(){const{current:t}=this.ref;t&&(this.context=t.getContext("2d"),this.gameLoop()),addEventListener("resize",(()=>{var t;t=()=>{this.$pageWidth=window.innerWidth,this.$pageHeight=window.innerHeight},r.startAction(),t(),r.endAction()}))}constructor(...t){super(...t),this.store=new K,this.ref={current:null},this.context=null,this.$pageWidth=window.innerWidth,this.$pageHeight=window.innerHeight,this.timeOfLastFrame=Date.now(),this.gameLoop=()=>{const t=Date.now();this.store.gameObjects.update(t-this.timeOfLastFrame);const{context:e,$pageWidth:s,$pageHeight:n}=this;e&&this.store.gameObjects.draw(e,s,n),this.timeOfLastFrame=t,requestAnimationFrame(this.gameLoop)}}}var X,Y;X=class extends z{render(){return C({className:O`Main`,children:[Q.$({})]})}}.$({}),Y=document.getElementById("root"),null===X?x.clear():x.render(X,Y)})()})();